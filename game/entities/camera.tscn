[gd_scene load_steps=15 format=3 uid="uid://bidfps3q756ep"]

[ext_resource type="Script" path="res://entities/camera.gd" id="1_juncb"]
[ext_resource type="Texture2D" uid="uid://2iypvij4ofu6" path="res://assets/newBckgrnd.png" id="2_hkrqs"]
[ext_resource type="Script" path="res://backgrounds/Background3D.gd" id="3_o2812"]
[ext_resource type="PackedScene" uid="uid://dq340y23imlfs" path="res://backgrounds/mountain_background.tscn" id="4_fqdte"]
[ext_resource type="Shader" path="res://entities/camera_fog.gdshader" id="5_wcx0f"]
[ext_resource type="Shader" path="res://assets/OverworldClouds.gdshader" id="6_7w3m0"]
[ext_resource type="Script" path="res://assets/OverworldClouds.gd" id="7_j0n5y"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_ix55e"]
frequency = 0.0075

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_x3cnk"]
width = 320
height = 180
seamless = true
seamless_blend_skirt = 0.75
noise = SubResource("FastNoiseLite_ix55e")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vflwp"]
shader = ExtResource("5_wcx0f")
shader_parameter/opacity = 0.072
shader_parameter/density = 0.0
shader_parameter/speed = Vector2(0.02, 0.01)
shader_parameter/noise_texture = SubResource("NoiseTexture2D_x3cnk")

[sub_resource type="Gradient" id="Gradient_71o6t"]
offsets = PackedFloat32Array(0.139344, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_i2gsj"]
noise_type = 3
frequency = 0.0312

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_qprc5"]
width = 320
height = 180
generate_mipmaps = false
seamless = true
seamless_blend_skirt = 0.441
color_ramp = SubResource("Gradient_71o6t")
noise = SubResource("FastNoiseLite_i2gsj")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_u8x4m"]
shader = ExtResource("6_7w3m0")
shader_parameter/opacity = 0.934
shader_parameter/density = 0.0
shader_parameter/speed = Vector2(0.01, 0.02)
shader_parameter/offset = Vector2(0.095, 2.08165e-12)
shader_parameter/noise_texture = SubResource("NoiseTexture2D_qprc5")

[node name="Camera" type="Camera2D"]
position = Vector2(201, 96)
offset = Vector2(2.08165e-12, 2.08165e-12)
anchor_mode = 0
script = ExtResource("1_juncb")

[node name="Background" type="Sprite2D" parent="."]
unique_name_in_owner = true
texture = ExtResource("2_hkrqs")
centered = false

[node name="Background3D" type="Sprite2D" parent="."]
unique_name_in_owner = true
texture = ExtResource("2_hkrqs")
centered = false
script = ExtResource("3_o2812")

[node name="SubViewport" type="SubViewport" parent="Background3D"]
transparent_bg = true
size = Vector2i(320, 180)

[node name="MountainBackground" parent="Background3D/SubViewport" instance=ExtResource("4_fqdte")]

[node name="Fog" type="ParallaxBackground" parent="."]
unique_name_in_owner = true
layer = 2

[node name="ParallaxLayer" type="ParallaxLayer" parent="Fog"]
motion_mirroring = Vector2(320, 180)

[node name="ColorRect" type="ColorRect" parent="Fog/ParallaxLayer"]
material = SubResource("ShaderMaterial_vflwp")
offset_right = 320.0
offset_bottom = 180.0

[node name="OverworldClouds" type="ColorRect" parent="."]
unique_name_in_owner = true
z_index = 100
texture_filter = 1
material = SubResource("ShaderMaterial_u8x4m")
custom_minimum_size = Vector2(320, 180)
offset_right = 320.0
offset_bottom = 180.0
script = ExtResource("7_j0n5y")
